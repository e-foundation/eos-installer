<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1.0, user-scalable=0"/>
    <link rel="stylesheet" href="css/styles.css"/>
    <title>/e/Os web installer</title>
    <script src="js/lib/zip/zip-no-worker-inflate.min.js"></script>
    <script src="js/lib/webadb/webadb.js"></script>
    <script src="js/viewManager.js"></script>
</head>
<body id="body">
    <div id="process-ctn">
        <div id="banner">
            <div id="top-banner">
                <b>Installation</b>
                <div>*</div>
                <div>completed</div>                
                <div id="error-message">
                    <div id="error-caption"></div>
                    <div id="error-text"></div>
                </div>
            </div>
            <div id="sub-banner">
                <button id="donate"><img src="assets/images/icons/donate.svg"><span  data-translate="donate"></span></button>
                <button id="help"><img src="assets/images/icons/help.svg"><span  data-translate="help"></span></button>
            </div>
        </div>

        <div id="navigator-detection" class="navigator-detection card inactive">
            <div class="card-title" data-translate="navigator-detection"></div>
            <div class="card-body">
                <div class="instruction-ctn">
                    <img class="instruction-img" src="assets/images/icons/critical-error.svg">
                    <p data-translate="navigator-not-supported"></p>
                    <p data-translate="navigator-not-supported-instructions"></p>
                </div>
            </div>
        </div>

        <div id="let-s-get-started" class="let-s-get-started card inactive">
            <div class="card-title" data-translate="let-s-get-started"></div>
            <div class="card-body">
                <div class="instruction-ctn">
                    <img class="instruction-img" src="assets/images/icons/free-up-some-time.svg">
                    <div>
                        <div class="instruction-title">1. Free up some time</div>
                        <div class="instruction-text">The complete installation process requires around 1 hour. Be patient!</div>
                    </div>
                </div>
                <div class="instruction-ctn">
                    <img class="instruction-img" src="assets/images/icons/free-up-some-disk-space.svg">
                    <div>
                        <div class="instruction-title">2. Free up some disk space</div>
                        <div class="instruction-text">You'll need to have at least 6GB of free space in your computer to download and install /e/OS. Make sure you have enough free disk space.</div>
                    </div>
                </div>
                <div class="instruction-ctn">
                    <img class="instruction-img" src="assets/images/icons/charge-your-phone.svg">
                    <div>
                        <div class="instruction-title">3. Charge your phone</div>
                        <div class="instruction-text">Before installing /e/OS, ensure your phone has at least 50% battery charge.</div>
                    </div>
                </div>
                <div class="instruction-ctn">
                    <img class="instruction-img" src="assets/images/icons/back-up-your-data.svg">
                    <div>
                        <div class="instruction-title">4. Back up your data</div>
                        <div class="instruction-text">All data will be erased from your smartphone during the installation, so we recommend that you back up your data.</div>
                    </div>
                </div>
                <div class="instruction-ctn">
                    <img class="instruction-img" src="assets/images/icons/grab-a-USB-data-cable.svg">
                    <div>
                        <div class="instruction-title">5. Grab a USB data cable</div>
                        <div class="instruction-text">A working USB data cable is required. Power cables don't transfer date and will not work! We recommend USB 3.x or newer.</div>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>

        <div id="check-your-android-version" class="card inactive">
            <div class="card-title" data-translate="check-update-android-version"></div>
            <div class="card-body">
                <div class="warning">
                    <div  data-translate="check-update-android-version-caution"></div>
                </div>
                <div class="card-sub-title" data-translate="follow-the-examples-below"></div>
                <div class="info">
                </div>
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>

        <div id="connect-your-phone" class="card inactive">
            <div class="card-title" data-translate="connect-your-phone"></div>
            <div class="card-body">
                <p data-translate="connect-your-phone-instructions"></p>
                <img class="instruction-img" src="assets/images/illustrations/connect-your-phone.png">
                <p data-translate="connect-your-phone-instructions-notes"></p>
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>
        <div id="activate-developer-options" class="card inactive">
            <div class="card-title" data-translate="activate-developer-options"></div>
            <div class="card-body">
                <p data-translate="activate-developer-options-instructions-1"></p>
                <img class="instruction-img" src="assets/images/illustrations/activate-developer-options-1.png">
                <p data-translate="activate-developer-options-instructions-2"></p>
                <img class="instruction-img" src="assets/images/illustrations/activate-developer-options-2.png">
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>
        <div id="activate-usb-debugging" class="card inactive">
            <div class="card-title" data-translate="activate-usb-debugging"></div>
            <div class="card-body">
                <p data-translate="activate-usb-debugging-instructions-1"></p>
                <img class="instruction-img" src="assets/images/illustrations/activate-usb-debugging-1.png">
                <p data-translate="activate-usb-debugging-instructions-2"></p>
                <img class="instruction-img" src="assets/images/illustrations/activate-usb-debugging-2.png">
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>
        <div id="enable-usb-file-transfer" class="card inactive">
            <div class="card-title" data-translate="enable-usb-file-transfer"></div>
            <div class="card-body">
                <p data-translate="enable-usb-file-transfer-instructions-1"></p>
                <img class="instruction-img" src="assets/images/illustrations/enable-usb-file-transfer-1.png">
                <p data-translate="enable-usb-file-transfer-instructions-2"></p>
                <img class="instruction-img" src="assets/images/illustrations/enable-usb-file-transfer-2.png">
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>

        <div id="device-detection" class="device-detection card inactive">
            <div class="card-title" data-translate="device-detection"></div>
            <div class="card-body">
                <p data-translate="device-detection-instructions-1"></p>
                <button data-translate="connect" onclick="VIEW.executeStep(this, 'device-detection')"></button>
                <p data-translate="device-detection-instructions-2"></p>
                <img class="instruction-img" src="assets/images/illustrations/allow-usb-debugging-1.png">
                <img class="instruction-img" src="assets/images/illustrations/allow-usb-debugging-2.png">
            </div>
            <div class="card-body inactive">
                <p data-translate="device-detection-detected"></p>
                <img class="instruction-img" src="assets/images/icons/check-success.svg">
            </div>
        </div>

        <div id="downloading" class="card inactive">
            <div class="card-title" data-translate="Downloading /e/OS"></div>
            <div class="card-body">
                <p data-translate="this-might-take-some-time-please-be-patient"></p>
                <progress id="downloading-progress-bar" max="100" value="0"></progress>
                <div class="loader"></div>
                <div class="downloader"></div>
            </div>
        </div>
        <div id="connect-bootloader" class="card inactive">
            <div class="card-title" data-translate="connect-bootloader"></div>
            <div class="card-body">
                <button data-translate="next" class="" onclick="VIEW.executeStep(this, 'connect-bootloader')"></button>
            </div>
        </div>
        <div id="unlocking" class="card inactive">
            <div class="card-title" data-translate="Unlocking"></div>
            <div class="card-body">
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.executeStep(this, 'unlocking')"></button>
            </div>
        </div>
        <div id="reboot-manually-to-bootloader" class="card inactive">
            <div class="card-title" data-translate="repeat-the-following-step"></div>
            <div class="card-body">
                <ul>
                    <li data-translate="turn-off-your-phone"></li>
                    <li data-translate="access-download-mode"></li>
                </ul>
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>
        <div id="flashing" class="card inactive">
            <div class="card-title" data-translate="installing"></div>
            <div class="card-body">
                <p data-translate="this-might-take-some-time-please-be-patient"></p>
                <progress id="installing-progress-bar" max="100" value="0"></progress>
            </div>
        </div>
        <div id="erase-data-recovery" class="card inactive">
            <div class="card-title" data-translate="restart-to-recovery"></div>
            <div class="card-body">
                <p data-translate="erase-data-instructions-1"></p>
                <p data-translate="erase-data-instructions-2"></p>
                <p data-translate="erase-data-instructions-3"></p>
                <p data-translate="erase-data-instructions-4"></p>
                <p data-translate="erase-data-instructions-5"></p>
                <p data-translate="erase-data-instructions-6"></p>
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>
        <div id="go-to-apply-update" class="card inactive">
            <div class="card-title" data-translate="go-to-sideload"></div>
            <div class="card-body">
                <p data-translate="go-to-apply-update-instructions-1"></p>
                <p data-translate="go-to-apply-update-instructions-2"></p>
                <p data-translate="go-to-apply-update-instructions-3"></p>
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>
        <div id="sideload" class="card inactive">
            <div class="card-title" data-translate="sideload"></div>
            <div class="card-body">
                <p data-translate="sideload-instruction"></p>
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>
        <div id="locking" class="card inactive">
            <div class="card-title" data-translate="locking"></div>
            <div class="card-body">
                click to lock
                <button data-translate="next" class="locking" onclick="VIEW.executeStep(this, 'locking')"></button>
            </div>
            <div class="card-footer">
                <button data-translate="next" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>
        <div id="murena-cloud-account" class="card inactive">
            <div class="card-title" data-translate="murena-cloud-account"></div>
            <div class="card-body">
                <img class="instruction-img" src="assets/images/illustrations/murena-cloud-account.png">
                <p data-translate="murena-cloud-account-instructions"></p>
            </div>
            <div class="card-footer">
                <button data-translate="skip" class="next" onclick="VIEW.onNext(this)"></button>
            </div>
        </div>
        <div id="installation-complete" class="card inactive">
            <div class="card-title" data-translate="installation-complete"></div>
            <div class="card-body">
                <p data-translate="installation-complete-instructions-1"></p>
                <img class="instruction-img" src="assets/images/illustrations/installation-complete.png">
                <p data-translate="installation-complete-instructions-2"></p>
            </div>
            <div class="card-footer">
            </div>
        </div>
        <div id="help-us-improve-the-tool" class="card inactive">
            <div class="card-title" data-translate="help-us-improve-the-tool"></div>
            <div class="card-body">
                <p data-translate="help-us-improve-the-tool-instructions-1"></p>
                <p data-translate="help-us-improve-the-tool-instructions-2"></p>
            </div>
            <div class="card-footer">
            </div>
        </div>
    </div>
</body>
<script>
    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }
    var VIEW = new ViewManager();
    var exports = {};
    document.addEventListener('DOMContentLoaded', async ()=>{
        await VIEW.init();
    });
</script>
</html>